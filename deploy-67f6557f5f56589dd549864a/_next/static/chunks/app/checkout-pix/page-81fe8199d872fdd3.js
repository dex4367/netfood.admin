(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[27],{621:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return a}});let a=(0,r(8571).createAsyncLocalStorage)()},1370:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let a=r(122),n=r(7362),s=r(1545);function l(e){return{default:e&&"default"in e?e.default:e}}r(7604);let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},r=(0,n.lazy)(()=>t.loader().then(l)),i=t.loading;function c(e){let l=i?(0,a.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?n.Suspense:n.Fragment,d=t.ssr?(0,a.jsxs)(a.Fragment,{children:[null,(0,a.jsx)(r,{...e})]}):(0,a.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(r,{...e})});return(0,a.jsx)(c,{...o?{fallback:l}:{},children:d})}return c.displayName="LoadableComponent",c}},1545:(e,t,r)=>{"use strict";function a(e){let{reason:t,children:r}=e;return r}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}}),r(541)},1923:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>x});var a=r(122),n=r(7362),s=r(2811),l=r(8591),o=r.n(l),i=r(7488),c=r(7354),d=r.n(c);let u=e=>{let{valor:t}=e,[r,s]=(0,n.useState)(""),[l,o]=(0,n.useState)(""),[i,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)(300),[m,x]=(0,n.useState)(!1),f=(0,n.useRef)(null);(0,n.useEffect)(()=>(c(!0),o(Math.floor(1e4+9e4*Math.random()).toString()),f.current=setInterval(()=>{u(e=>e<=1?(f.current&&clearInterval(f.current),0):e-1)},1e3),()=>{f.current&&clearInterval(f.current)}),[]);let h=(0,n.useCallback)((e,t)=>{let r=t.length.toString().padStart(2,"0");return"".concat(e).concat(r).concat(t)},[]),p=(0,n.useCallback)(e=>{let t=e.length,r=65535;for(let a=0;a<t;a++){r^=e[a].charCodeAt(0)<<8;for(let e=0;e<8;e++)r=32768&r?r<<1&65535^4129:r<<1&65535}return parseInt(r.toString()).toString(16).toUpperCase().padStart(4,"0")},[]),g=(0,n.useCallback)(e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,""),[]),b=(0,n.useCallback)(()=>{let e="BOBS BRASIL",r="SAO PAULO",a=t.toFixed(2),n="Bobs - Pedido [ ".concat(l," ]");e=g(e).toUpperCase().substring(0,25),r=g(r).toUpperCase().substring(0,15),n=g(n).substring(0,25);let o=h("00","BR.GOV.BCB.PIX")+h("01","f49883c0-b6c1-4e4e-ac2a-a2a5ec4cbfd3")+h("02",n),i=h("62",h("05","***")),c=h("00","01")+h("26",o)+h("52","0000")+h("53","986")+h("54",a)+h("58","BR")+h("59",e)+h("60",r)+i+"6304",d=p(c);s(c+d)},[t,h,p,g,l]);return((0,n.useEffect)(()=>{i&&l&&b()},[b,i,l]),i)?(0,a.jsxs)("div",{className:"w-full flex flex-col items-center p-5 bg-white rounded-lg shadow-sm",children:[(0,a.jsxs)("div",{className:"w-full mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm font-medium mb-2",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Tempo restante para pagamento"}),(0,a.jsx)("span",{className:"text-gray-800 font-bold",children:(e=>{let t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(r<10?"0":"").concat(r)})(d)})]}),(0,a.jsx)("div",{className:"w-full bg-gray-100 rounded-full h-[6px] overflow-hidden",children:(0,a.jsx)("div",{className:"h-[6px] bg-[#ff7f00] rounded-full transition-all duration-1000 ease-linear",style:{width:"".concat(d/300*100,"%"),height:"6px",borderWidth:"1.5px"}})})]}),(0,a.jsxs)("div",{className:"text-center mb-8 px-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Pague com PIX"}),(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Copie o c\xf3digo PIX abaixo e cole no aplicativo do seu banco para pagar"})]}),(0,a.jsx)("div",{className:"w-full mb-4 text-center",children:(0,a.jsxs)("span",{className:"bg-orange-100 text-orange-800 text-xs font-medium px-3 py-1 rounded",children:["Pedido [ ",l," ]"]})}),(0,a.jsxs)("div",{className:"w-full mb-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2 font-medium",children:"C\xf3digo PIX"}),(0,a.jsxs)("div",{className:"w-full p-4 border border-gray-200 rounded-lg flex items-center justify-between bg-gray-50",children:[(0,a.jsx)("span",{className:"text-gray-800 font-mono text-sm truncate flex-1",children:r}),(0,a.jsx)("button",{onClick:()=>{i&&(navigator.clipboard.writeText(r),x(!0),setTimeout(()=>x(!1),3e3))},className:"flex items-center justify-center p-2 ml-2 rounded-md transition-colors ".concat(m?"text-green-500":"text-[#ff7f00] hover:bg-gray-100"),children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,a.jsx)("span",{className:"text-xs",children:"Copiado!"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),(0,a.jsx)("span",{className:"text-xs",children:"Copiar"})]})})]})]}),(0,a.jsx)("div",{className:"text-center w-full mt-2",children:(0,a.jsxs)("p",{className:"text-gray-500 text-sm",children:["Valor a pagar: ",(0,a.jsxs)("span",{className:"font-bold text-gray-700",children:["R$ ",t.toFixed(2).replace(".",",")]})]})})]}):null},m=d()(()=>Promise.resolve(u),{ssr:!1});function x(){let[e,t]=(0,n.useState)(!1),[r,l]=(0,n.useState)(!1),{getTotalPrice:c,items:d}=(0,i.useCart)(),u=c()+5.9;return((0,n.useEffect)(()=>{t(!0)},[]),e)?(0,a.jsxs)("div",{className:"bg-white min-h-[100vh] w-full flex flex-col",children:[(0,a.jsxs)("div",{className:"fixed top-0 left-0 right-0 flex items-center justify-between p-4 bg-white z-50",children:[(0,a.jsx)(o(),{href:"/carrinho-novo",className:"text-orange-500",children:(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,a.jsx)("span",{className:"font-bold text-[14px]",children:"PAGAMENTO"}),(0,a.jsx)("button",{className:"text-orange-500 text-sm font-medium",children:"Ajuda"})]}),(0,a.jsx)("div",{className:"flex-1 p-6 flex flex-col items-center pt-[60px]",children:(0,a.jsxs)("div",{className:"max-w-md w-full flex flex-col items-center",children:[(0,a.jsx)("h1",{className:"text-xl font-medium text-gray-700 mb-2",children:"Pedido aguardando pagamento"}),(0,a.jsx)("p",{className:"text-gray-600 text-center text-sm mb-6",children:"Abra um aplicativo em que voc\xea tenha o Pix habilitado e escolha a op\xe7\xe3o Pagar, em seguida Ler QR Code:"}),(0,a.jsx)(m,{valor:u}),(0,a.jsx)("div",{className:"w-full border border-gray-200 rounded-lg mb-6",children:(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 mr-3",children:(0,a.jsx)(s.default,{src:"/images/bobs-logo.png",width:48,height:48,alt:"Logo restaurante",className:"object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Bob's - Shopping Campo Grande"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"N\xba do pedido 3817"})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-2 border-t border-gray-100",children:[(0,a.jsx)("span",{className:"font-medium",children:"Total"}),(0,a.jsxs)("span",{className:"font-medium",children:["R$ ",u.toFixed(2).replace(".",",")]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 cursor-pointer",onClick:()=>l(!r),children:[(0,a.jsx)("span",{className:"text-gray-700",children:"Ver itens do pedido"}),(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-orange-500 transform ".concat(r?"rotate-180":""),viewBox:"0 0 20 20",fill:"currentColor",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})]}),r&&(0,a.jsxs)("div",{className:"pt-2 border-t border-gray-100",children:[d.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between py-1",children:[(0,a.jsxs)("span",{className:"text-sm",children:[e.quantity,"x ",e.product.name]}),(0,a.jsxs)("span",{className:"text-sm",children:["R$ ",(e.product.price*e.quantity).toFixed(2).replace(".",",")]})]},t)),(0,a.jsxs)("div",{className:"flex justify-between py-1 mt-2 border-t border-gray-100",children:[(0,a.jsx)("span",{className:"text-sm",children:"Taxa de entrega"}),(0,a.jsx)("span",{className:"text-sm",children:"R$ 5,90"})]})]})]})}),(0,a.jsx)("p",{className:"text-gray-600 text-sm text-center mb-4",children:"Voc\xea tem at\xe9 5 minutos para fazer o pagamento. Ap\xf3s esse tempo, o pedido ser\xe1 cancelado."}),(0,a.jsx)("button",{onClick:()=>{let e=document.querySelector(".text-gray-800.font-mono");e&&navigator.clipboard.writeText(e.textContent||"")},className:"w-full bg-orange-500 text-white font-medium py-3 rounded-md mb-3",children:"Copiar c\xf3digo"}),(0,a.jsx)("button",{className:"w-full text-black font-medium py-3",children:"Pagar com banco parceiro"})]})})]}):(0,a.jsx)("div",{className:"bg-white min-h-[100vh] w-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"h-2 w-2 bg-orange-500 rounded-full animate-bounce mr-1",style:{animationDelay:"0ms"}}),(0,a.jsx)("div",{className:"h-2 w-2 bg-orange-500 rounded-full animate-bounce mr-1",style:{animationDelay:"150ms"}}),(0,a.jsx)("div",{className:"h-2 w-2 bg-orange-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}},3411:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return a.workAsyncStorageInstance}});let a=r(621)},7354:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let a=r(4247)._(r(1370));function n(e,t){var r;let n={};"function"==typeof e&&(n.loader=e);let s={...n,...t};return(0,a.default)({...s,modules:null==(r=s.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7488:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CartProvider:()=>d,useCart:()=>c});var a=r(122),n=r(7362);let s="bob_cart_items_v4",l=(0,n.createContext)(void 0);function o(){try{["bob_cart_items_v3","bob_cart_items_v2","cartItems","bobsCart"].forEach(e=>{try{localStorage.removeItem(e)}catch(t){console.error("Erro ao remover chave antiga ".concat(e,":"),t)}});let e=localStorage.getItem(s);if(!e)return[];let t=JSON.parse(e);if(!Array.isArray(t))return[];return t}catch(e){return console.error("Erro ao carregar carrinho:",e),[]}}function i(e){try{0===e.length?localStorage.removeItem(s):localStorage.setItem(s,JSON.stringify(e))}catch(e){console.error("Erro ao salvar carrinho:",e)}}function c(){let e=(0,n.useContext)(l);if(void 0===e)throw Error("useCart deve ser usado dentro de um CartProvider");return e}function d(e){let{children:t}=e,[r,c]=(0,n.useState)(!1),[d,u]=(0,n.useState)([]);(0,n.useEffect)(()=>{u(o()),c(!0);let e=()=>{u(o())};return window.addEventListener("storage",e),window.addEventListener("cart:updated",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("cart:updated",e)}},[]);let m=(0,n.useCallback)(e=>{let t;if(!e)return;let r=o(),a=r.findIndex(t=>t.id===e.id&&t.selectedSide===e.selectedSide&&JSON.stringify(t.selectedExtras)===JSON.stringify(e.selectedExtras)&&JSON.stringify(t.selectedSauces)===JSON.stringify(e.selectedSauces)&&JSON.stringify(t.selectedAddons)===JSON.stringify(e.selectedAddons)&&t.observation===e.observation);if(-1!==a){let n=(t=[...r])[a];t[a]={...n,quantity:n.quantity+e.quantity,totalPrice:n.totalPrice+e.totalPrice}}else t=[...r,{...e,id:e.id||"".concat(e.product.id,"-").concat(Date.now())}];i(t),u(t),window.dispatchEvent(new CustomEvent("cart:updated"))},[]),x=(0,n.useCallback)(e=>{let t=o().filter(t=>t.id!==e);i(t),u(t),window.dispatchEvent(new CustomEvent("cart:updated"))},[]),f=(0,n.useCallback)((e,t)=>{let r=o().map(r=>r.id===e?{...t,id:e}:r);i(r),u(r),window.dispatchEvent(new CustomEvent("cart:updated"))},[]),h=(0,n.useCallback)((e,t)=>{if(t<1){x(e);return}let r=o().map(r=>{if(r.id===e){let e=r.totalPrice/r.quantity;return{...r,quantity:t,totalPrice:e*t}}return r});i(r),u(r),window.dispatchEvent(new CustomEvent("cart:updated"))},[x]),p=(0,n.useCallback)(()=>{localStorage.removeItem(s),u([]),window.dispatchEvent(new CustomEvent("cart:updated"))},[]),g=(0,n.useCallback)(()=>o().reduce((e,t)=>e+t.totalPrice,0),[]),b=(0,n.useCallback)(()=>o().reduce((e,t)=>e+t.quantity,0),[]);return(0,a.jsx)(l.Provider,{value:{items:d,addItem:m,removeItem:x,updateItem:f,updateItemQuantity:h,clearCart:p,getTotalPrice:g,getTotalItems:b},children:t})}},7604:(e,t,r)=>{"use strict";function a(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return a}}),r(122),r(943),r(3411),r(7850)},8571:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return o}});let r=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class a{disable(){throw r}getStore(){}run(){throw r}exit(){throw r}enterWith(){throw r}static bind(e){return e}}let n="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return n?new n:new a}function l(e){return n?n.bind(e):a.bind(e)}function o(){return n?n.snapshot():function(e,...t){return e(...t)}}},8834:(e,t,r)=>{Promise.resolve().then(r.bind(r,1923))}},e=>{var t=t=>e(e.s=t);e.O(0,[591,811,500,245,358],()=>t(8834)),_N_E=e.O()}]);