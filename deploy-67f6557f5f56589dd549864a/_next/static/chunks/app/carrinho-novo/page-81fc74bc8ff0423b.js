(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{2169:(e,t,a)=>{Promise.resolve().then(a.bind(a,3014))},3014:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(122),r=a(7362),o=a(8591),l=a.n(o),i=a(2811),n=a(7488);let c=[{id:"sug1",name:"Big Bob's",description:"Dois hamb\xfargueres, queijo derretido, molho especial, cebola, alface e picles.",price:25.9,image:"https://storage.shopfood.io/public/companies/poe726g0/products/medium/202204061741_3282_i.jpg",category:"Sandu\xedches"},{id:"sug2",name:"Cheddar",description:"Hamb\xfarguer, queijo cheddar cremoso, bacon crocante e cebola.",price:22.9,image:"https://storage.shopfood.io/public/companies/poe726g0/products/medium/6503b26e409f4c8331d2caeeba844a5a.png",category:"Sandu\xedches"},{id:"sug3",name:"Fritas Grandes",description:"Por\xe7\xe3o grande de batatas fritas crocantes e douradas.",price:12.9,image:"https://storage.shopfood.io/public/companies/poe726g0/products/medium/202111041521_1QBA_i.jpg",category:"Acompanhamentos"},{id:"sug4",name:"Milk Shake Chocolate",description:"Delicioso milk shake de chocolate com calda especial.",price:14.9,image:"https://storage.shopfood.io/public/companies/poe726g0/products/medium/d57c673008256be8b19c1f6333c6491c.jpg",category:"Bebidas"},{id:"sug5",name:"Sundae Caramelo",description:"Sorvete de baunilha com calda de caramelo.",price:9.9,image:"https://storage.shopfood.io/public/companies/poe726g0/products/medium/fb5466377a88236bb484991d472a48a1.jpg",category:"Sobremesas"}];function d(){let{items:e,removeItem:t,updateItemQuantity:o,getTotalPrice:d}=(0,n.useCart)(),[m,h]=(0,r.useState)(!1),[x,u]=(0,r.useState)(0),[g,v]=(0,r.useState)([]),[p,f]=(0,r.useState)(!1),b=e.length>0?(console.log("Usando itens do contexto:",e.length),e):g.length>0?(console.log("Usando itens do localStorage:",g.length),g):[];console.log("Exibindo itens:",b.length);let j=e=>{t(e);try{let t=localStorage.getItem("bob_cart_items_v4");if(t){let a=JSON.parse(t).filter(t=>t.id!==e);0===a.length?localStorage.removeItem("bob_cart_items_v4"):localStorage.setItem("bob_cart_items_v4",JSON.stringify(a)),localStorage.removeItem("bob_cart_items_v3")}window.dispatchEvent(new CustomEvent("cart:updated"))}catch(e){console.error("Erro ao atualizar localStorage:",e)}u(e=>e+1),v(t=>t.filter(t=>t.id!==e))},w=(e,t)=>{if(t<1){j(e);return}o(e,t)};return((0,r.useEffect)(()=>{console.log("Inicializando e sincronizando localStorage no carrinho novo");try{let t=localStorage.getItem("bob_cart_items_v3");if(t)try{let e=JSON.parse(t);Array.isArray(e)&&e.length>0?(console.log("Itens encontrados no localStorage:",e),v(e)):console.log("Array de itens vazio ou inv\xe1lido no localStorage")}catch(e){console.error("Erro ao parsear itens do localStorage:",e)}else console.log("Nenhum item encontrado no localStorage");if(["cartItems","bobsCart","removedCartItems"].forEach(e=>{localStorage.getItem(e)&&localStorage.removeItem(e)}),e.length>0)console.log("Sincronizando itens com o novo formato:",e),localStorage.setItem("bob_cart_items_v3",JSON.stringify(e)),localStorage.getItem("bob_removed_items_v3")||localStorage.setItem("bob_removed_items_v3",JSON.stringify([]));else if(console.log("Context items vazio, verificando localStorage"),t)try{let e=JSON.parse(t);Array.isArray(e)&&e.length>0&&console.log("Itens encontrados apenas no localStorage, for\xe7ando atualiza\xe7\xe3o")}catch(e){console.error("Erro ao verificar localStorage para itens:",e)}else localStorage.removeItem("bob_cart_items_v3")}catch(e){console.error("Erro ao sincronizar localStorage:",e)}},[e]),(0,r.useEffect)(()=>{console.log("Items atualizados no contexto:",e.length),u(e=>e+1)},[e]),(0,r.useEffect)(()=>{h(!0),console.log("Cliente renderizado, itens no contexto:",e.length);{let t=localStorage.getItem("bob_cart_items_v3");if(t)try{let a=JSON.parse(t);Array.isArray(a)&&(console.log("Itens no localStorage ap\xf3s renderiza\xe7\xe3o:",a.length),a.length>0&&0===e.length&&(console.log("Itens encontrados apenas no localStorage, definindo localItems"),v(a)))}catch(e){console.error("Erro ao verificar localStorage ap\xf3s renderiza\xe7\xe3o:",e)}}let t=()=>{console.log("Evento de atualiza\xe7\xe3o do carrinho detectado");{let e=localStorage.getItem("bob_cart_items_v3");if(e)try{let t=JSON.parse(e);Array.isArray(t)&&(console.log("Itens no localStorage ap\xf3s evento:",t.length),t.length>0&&v(t))}catch(e){console.error("Erro ao verificar localStorage ap\xf3s evento:",e)}}u(e=>e+1)};return window.addEventListener("cartUpdated",t),()=>{window.removeEventListener("cartUpdated",t)}},[e]),m)?p?(0,s.jsx)("div",{className:"bg-white min-h-[100vh] w-full flex flex-col items-center justify-center p-6",children:(0,s.jsxs)("div",{className:"max-w-md w-full text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-8",children:(0,s.jsx)(i.default,{src:"/images/bobs-logo.png",width:120,height:60,alt:"Logo Bob's",priority:!0})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-orange-500 mb-4",children:"PROCESSANDO PEDIDO"}),(0,s.jsx)("div",{className:"flex justify-center mb-8",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"h-2 w-2 bg-orange-500 rounded-full animate-bounce mr-1",style:{animationDelay:"0ms"}}),(0,s.jsx)("div",{className:"h-2 w-2 bg-orange-500 rounded-full animate-bounce mr-1",style:{animationDelay:"150ms"}}),(0,s.jsx)("div",{className:"h-2 w-2 bg-orange-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}),(0,s.jsx)("p",{className:"text-gray-600 mb-8",children:"Estamos preparando seu pedido. Por favor, aguarde..."})]})}):0===b.length?(0,s.jsx)("div",{className:"bg-white min-h-[100vh] w-full",children:(0,s.jsxs)("div",{className:"p-4 md:p-6 flex flex-col items-center justify-center min-h-[60vh]",children:[(0,s.jsx)("div",{className:"h-12 w-12 text-gray-400 mb-3",children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",children:[(0,s.jsx)("path",{d:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"}),(0,s.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,s.jsx)("path",{d:"M16 10a4 4 0 0 1-8 0"})]})}),(0,s.jsx)("h2",{className:"text-lg font-bold text-gray-700 mb-2",children:"Carrinho vazio"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 mb-4 text-center",children:"Adicione produtos para continuar"}),(0,s.jsx)(l(),{href:"/",className:"bg-orange-500 hover:bg-orange-700 text-white font-medium py-2 px-6 rounded",children:"Voltar para o card\xe1pio"})]})}):(0,s.jsxs)("div",{className:"bg-white min-h-[100vh] w-full",children:[(0,s.jsx)("header",{className:"sticky top-0 bg-white z-10",children:(0,s.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,s.jsxs)("div",{className:"flex items-center h-16 px-4",children:[(0,s.jsx)(l(),{href:"/",className:"flex items-center mr-auto",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5 text-orange-500",children:(0,s.jsx)("path",{d:"M15 18l-6-6 6-6"})})}),(0,s.jsx)("h1",{className:"font-bold text-[14px] absolute left-1/2 transform -translate-x-1/2 uppercase",children:"Carrinho"}),(0,s.jsx)("button",{onClick:()=>{{let{useCart:e}=a(7488),{clearCart:t}=e();t(),localStorage.removeItem("bob_cart_items_v3")}v([]),u(e=>e+1)},className:"text-orange-500 text-sm ml-auto",children:"Limpar"})]})})}),(0,s.jsxs)("div",{className:"p-4 max-w-3xl mx-auto",children:[(0,s.jsx)("div",{className:"space-y-4 mb-8",children:b.map(e=>{let t=t=>{var a;let s=null===(a=e.product.extras)||void 0===a?void 0:a.find(e=>e.id===t);return s?s.name:""},a=t=>{var a;let s=null===(a=e.product.sauces)||void 0===a?void 0:a.find(e=>e.id===t);return s?s.name:""},r=t=>{var a;let s=null===(a=e.product.addons)||void 0===a?void 0:a.find(e=>e.id===t);return s?s.name:""};return(0,s.jsxs)("div",{className:"p-3 bg-white border border-gray-100 rounded-xl flex relative shadow-sm",children:[(0,s.jsx)("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-50 flex-shrink-0",children:(0,s.jsx)(i.default,{src:e.product.image,alt:e.product.name,width:64,height:64,className:"object-cover w-full h-full"})}),(0,s.jsxs)("div",{className:"ml-3 flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("h3",{className:"font-medium text-gray-800",children:e.product.name}),(0,s.jsx)("button",{onClick:()=>j(e.id),className:"text-gray-400 hover:text-orange-500","aria-label":"Remover item",children:(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:[(0,s.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,s.jsx)("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),(0,s.jsx)("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),(0,s.jsx)("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("span",{className:"text-orange-500 font-medium mr-1",children:[e.quantity,"x"]}),(0,s.jsx)("span",{children:e.product.name})]}),Object.entries(e.selectedExtras).map(e=>{let[a,r]=e;return(0,s.jsxs)("div",{className:"flex items-center mt-0.5",children:[(0,s.jsxs)("span",{className:"text-orange-500 font-medium mr-1",children:[r,"x"]}),(0,s.jsx)("span",{children:t(a)})]},a)}),Object.entries(e.selectedSauces).map(e=>{let[t,r]=e;return(0,s.jsxs)("div",{className:"flex items-center mt-0.5",children:[(0,s.jsxs)("span",{className:"text-orange-500 font-medium mr-1",children:[r,"x"]}),(0,s.jsx)("span",{children:a(t)})]},t)}),e.selectedSide&&(0,s.jsxs)("div",{className:"flex items-center mt-0.5",children:[(0,s.jsx)("span",{className:"text-orange-500 font-medium mr-1",children:"1x"}),(0,s.jsx)("span",{children:(t=>{var a;if(!t)return"";let s=null===(a=e.product.sides)||void 0===a?void 0:a.find(e=>e.id===t);return s?s.name:""})(e.selectedSide)})]}),e.selectedAddons.map(e=>(0,s.jsxs)("div",{className:"flex items-center mt-0.5",children:[(0,s.jsx)("span",{className:"text-orange-500 font-medium mr-1",children:"1x"}),(0,s.jsx)("span",{children:r(e)})]},e))]}),(0,s.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,s.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:["R$ ",e.totalPrice.toFixed(2).replace(".",",")]}),(0,s.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-full",children:[(0,s.jsx)("button",{className:"w-7 h-7 rounded-full text-orange-500 flex items-center justify-center",onClick:()=>w(e.id,e.quantity-1),disabled:e.quantity<=1,children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})}),(0,s.jsx)("span",{className:"px-3 font-medium text-xs",children:e.quantity}),(0,s.jsx)("button",{className:"w-7 h-7 rounded-full text-orange-500 flex items-center justify-center",onClick:()=>w(e.id,e.quantity+1),children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]})]})]})]},e.id)})}),(0,s.jsx)("div",{className:"mb-8 text-center",children:(0,s.jsxs)(l(),{href:"/",className:"text-orange-500 text-sm font-medium flex items-center justify-center gap-2 py-2",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"Adicionar mais itens"]})}),b.length>0&&(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-sm font-bold text-black mb-4",children:"Voc\xea tamb\xe9m pode gostar"}),(0,s.jsx)("div",{className:"flex overflow-x-auto pb-4 space-x-4 scrollbar-hide",children:c.slice(0,3).map(e=>(0,s.jsxs)(l(),{href:"/produto/".concat(e.id),className:"flex-shrink-0 w-32 bg-white rounded-lg overflow-hidden shadow-sm",children:[(0,s.jsxs)("div",{className:"relative h-32 w-full bg-gray-100",children:[(0,s.jsx)(i.default,{src:e.image,alt:e.name,width:128,height:128,className:"object-cover w-full h-full"}),(0,s.jsx)("div",{className:"absolute top-1 right-1 w-5 h-5 bg-white rounded-full shadow-sm flex items-center justify-center",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-orange-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})})})]}),(0,s.jsxs)("div",{className:"p-3",children:[(0,s.jsx)("h3",{className:"font-bold text-red-500 text-xs line-clamp-1",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-gray-800 mt-1",children:["R$ ",e.price.toFixed(2).replace(".",",")]})]})]},e.id))})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl border border-gray-100 p-4 mb-5 shadow-sm",children:[(0,s.jsx)("h2",{className:"font-medium text-gray-900 mb-3",children:"Resumo"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Subtotal"}),(0,s.jsxs)("span",{className:"text-gray-900",children:["R$ ",d().toFixed(2).replace(".",",")]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-gray-500",children:"Taxa de entrega"}),(0,s.jsx)("span",{className:"text-gray-900",children:"R$ 5,90"})]}),(0,s.jsxs)("div",{className:"flex justify-between pt-3 mt-1 border-t border-gray-100 font-medium",children:[(0,s.jsx)("span",{className:"text-gray-900",children:"Total"}),(0,s.jsxs)("span",{className:"text-red-500",children:["R$ ",(d()+5.9).toFixed(2).replace(".",",")]})]})]})]}),(0,s.jsx)("div",{className:"bg-white rounded-xl border border-gray-100 p-4 mb-6 shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-6 h-6 relative flex-shrink-0 mr-3",children:(0,s.jsx)(i.default,{src:"https://static.ifood-static.com.br/image/upload/t_thumbnail/icones/payments/brands/3dc38545-6c1b-43a0-a2d0-dd2e1ac3bc73",alt:"Pix",width:24,height:24})}),(0,s.jsx)("span",{className:"text-sm text-gray-700",children:"Pagamento com Pix"})]}),(0,s.jsx)("button",{className:"text-red-500 text-xs",children:"Trocar"})]})}),(0,s.jsx)("div",{className:"h-20"})]}),(0,s.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t z-50 py-4",children:(0,s.jsx)("div",{className:"container max-w-3xl mx-auto px-4",children:(0,s.jsx)("button",{onClick:()=>{f(!0),setTimeout(()=>{window.location.href="/checkout-pix"},3e3)},className:"bg-red-500 text-white font-medium py-3 rounded-lg w-full flex items-center justify-center",children:(0,s.jsx)("span",{children:"Finalizar pedido"})})})})]}):(0,s.jsx)("div",{className:"bg-white min-h-[100vh] w-full flex items-center justify-center",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"h-2 w-2 bg-orange-500 rounded-full animate-bounce mr-1",style:{animationDelay:"0ms"}}),(0,s.jsx)("div",{className:"h-2 w-2 bg-orange-500 rounded-full animate-bounce mr-1",style:{animationDelay:"150ms"}}),(0,s.jsx)("div",{className:"h-2 w-2 bg-orange-500 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})}},7488:(e,t,a)=>{"use strict";a.r(t),a.d(t,{CartProvider:()=>d,useCart:()=>c});var s=a(122),r=a(7362);let o="bob_cart_items_v4",l=(0,r.createContext)(void 0);function i(){try{["bob_cart_items_v3","bob_cart_items_v2","cartItems","bobsCart"].forEach(e=>{try{localStorage.removeItem(e)}catch(t){console.error("Erro ao remover chave antiga ".concat(e,":"),t)}});let e=localStorage.getItem(o);if(!e)return[];let t=JSON.parse(e);if(!Array.isArray(t))return[];return t}catch(e){return console.error("Erro ao carregar carrinho:",e),[]}}function n(e){try{0===e.length?localStorage.removeItem(o):localStorage.setItem(o,JSON.stringify(e))}catch(e){console.error("Erro ao salvar carrinho:",e)}}function c(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useCart deve ser usado dentro de um CartProvider");return e}function d(e){let{children:t}=e,[a,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)([]);(0,r.useEffect)(()=>{m(i()),c(!0);let e=()=>{m(i())};return window.addEventListener("storage",e),window.addEventListener("cart:updated",e),()=>{window.removeEventListener("storage",e),window.removeEventListener("cart:updated",e)}},[]);let h=(0,r.useCallback)(e=>{let t;if(!e)return;let a=i(),s=a.findIndex(t=>t.id===e.id&&t.selectedSide===e.selectedSide&&JSON.stringify(t.selectedExtras)===JSON.stringify(e.selectedExtras)&&JSON.stringify(t.selectedSauces)===JSON.stringify(e.selectedSauces)&&JSON.stringify(t.selectedAddons)===JSON.stringify(e.selectedAddons)&&t.observation===e.observation);if(-1!==s){let r=(t=[...a])[s];t[s]={...r,quantity:r.quantity+e.quantity,totalPrice:r.totalPrice+e.totalPrice}}else t=[...a,{...e,id:e.id||"".concat(e.product.id,"-").concat(Date.now())}];n(t),m(t),window.dispatchEvent(new CustomEvent("cart:updated"))},[]),x=(0,r.useCallback)(e=>{let t=i().filter(t=>t.id!==e);n(t),m(t),window.dispatchEvent(new CustomEvent("cart:updated"))},[]),u=(0,r.useCallback)((e,t)=>{let a=i().map(a=>a.id===e?{...t,id:e}:a);n(a),m(a),window.dispatchEvent(new CustomEvent("cart:updated"))},[]),g=(0,r.useCallback)((e,t)=>{if(t<1){x(e);return}let a=i().map(a=>{if(a.id===e){let e=a.totalPrice/a.quantity;return{...a,quantity:t,totalPrice:e*t}}return a});n(a),m(a),window.dispatchEvent(new CustomEvent("cart:updated"))},[x]),v=(0,r.useCallback)(()=>{localStorage.removeItem(o),m([]),window.dispatchEvent(new CustomEvent("cart:updated"))},[]),p=(0,r.useCallback)(()=>i().reduce((e,t)=>e+t.totalPrice,0),[]),f=(0,r.useCallback)(()=>i().reduce((e,t)=>e+t.quantity,0),[]);return(0,s.jsx)(l.Provider,{value:{items:d,addItem:h,removeItem:x,updateItem:u,updateItemQuantity:g,clearCart:v,getTotalPrice:p,getTotalItems:f},children:t})}}},e=>{var t=t=>e(e.s=t);e.O(0,[591,811,500,245,358],()=>t(2169)),_N_E=e.O()}]);